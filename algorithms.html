<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®—æ³•ç›®å½• - SAT-DISCOVERY é¥æ„Ÿå¤„ç†å¹³å°</title>
    <link rel="stylesheet" href="/css/theme.css">
    <link rel="stylesheet" href="/css/layout.css">
    <link rel="stylesheet" href="/css/components.css">
    <style>
        .hero-section {
            text-align: center;
            padding: 3rem 1rem;
            background: linear-gradient(135deg, rgba(2, 11, 22, 0.95), rgba(10, 25, 47, 0.95));
            border-radius: 12px;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .hero-section h1 {
            color: #ffd700;
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero-subtitle {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }
        
        .hero-features {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 2rem;
        }
        
        .feature-badge {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            color: #ffd700;
            font-weight: bold;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .stat-card {
            background: rgba(10, 25, 47, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            border-color: #ffd700;
            transform: translateY(-4px);
        }
        
        .stat-number {
            font-size: 2.5rem;
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .search-bar {
            background: rgba(10, 25, 47, 0.6);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        
        .search-bar input {
            width: 100%;
            padding: 1rem;
            background: rgba(2, 11, 22, 0.8);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 6px;
            color: white;
            font-size: 1.1rem;
        }
        
        .search-bar input:focus {
            outline: none;
            border-color: #ffd700;
        }
        
        .category-section {
            margin-bottom: 3rem;
        }
        
        .category-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(10, 25, 47, 0.4);
            border-radius: 8px;
            border-left: 4px solid #ffd700;
        }
        
        .category-icon {
            font-size: 2rem;
        }
        
        .category-title {
            flex: 1;
        }
        
        .category-title h2 {
            color: #ffd700;
            font-size: 1.8rem;
            margin: 0 0 0.25rem 0;
        }
        
        .category-description {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.95rem;
        }
        
        .category-count {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .algorithms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
        }
        
        .algorithm-card {
            background: rgba(10, 25, 47, 0.6);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 10px;
            padding: 1.5rem;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .algorithm-card:hover {
            transform: translateY(-4px);
            border-color: #ffd700;
            box-shadow: 0 8px 24px rgba(255, 215, 0, 0.2);
        }
        
        .algorithm-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }
        
        .algorithm-name {
            font-size: 1.4rem;
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        
        .algorithm-id {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
            font-family: monospace;
        }
        
        .algorithm-badge {
            padding: 0.25rem 0.75rem;
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid #4caf50;
            border-radius: 12px;
            color: #4caf50;
            font-size: 0.75rem;
            font-weight: bold;
        }
        
        .algorithm-description {
            color: rgba(255, 255, 255, 0.8);
            margin: 1rem 0;
            line-height: 1.6;
        }
        
        .algorithm-formula {
            background: rgba(2, 11, 22, 0.8);
            padding: 0.75rem;
            border-radius: 6px;
            border-left: 3px solid rgba(255, 215, 0, 0.5);
            color: rgba(255, 215, 0, 0.9);
            font-family: monospace;
            font-size: 0.9rem;
            margin: 1rem 0;
        }
        
        .algorithm-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
        }
        
        .meta-icon {
            color: rgba(255, 215, 0, 0.7);
        }
        
        .meta-value {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .algorithm-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .tag {
            padding: 0.25rem 0.75rem;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.75rem;
        }
        
        .try-button {
            margin-top: 1rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 6px;
            color: #ffd700;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            text-align: center;
        }
        
        .try-button:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }
        
        .no-results {
            text-align: center;
            padding: 3rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 1.2rem;
        }
        
        @media (max-width: 768px) {
            .algorithms-grid {
                grid-template-columns: 1fr;
            }
            
            .hero-section h1 {
                font-size: 1.8rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ğŸ›°ï¸ SAT-DISCOVERY</h1>
        <nav>
            <ul>
                <li><a href="/index.html">é¦–é¡µ</a></li>
                <li><a href="/data_sources.html">æ•°æ®æº</a></li>
                <li><a href="/algorithms.html" class="active">ç®—æ³•ç›®å½•</a></li>
                <li><a href="/app.html">Dashboard</a></li>
            </ul>
        </nav>
    </header>

    <main style="max-width: 1400px; margin: 0 auto; padding: 2rem;">
        <div class="hero-section">
            <h1>ğŸ”§ é¥æ„Ÿç®—æ³•å¤„ç†å¹³å°</h1>
            <p class="hero-subtitle">35+ ç§ä¸“ä¸šé¥æ„Ÿå¤„ç†ç®—æ³• Â· äº‘ç«¯è®¡ç®— Â· æ— éœ€å­˜å‚¨</p>
            
            <div class="hero-features">
                <div class="feature-badge">â˜ï¸ äº‘ç«¯å¤„ç†</div>
                <div class="feature-badge">âš¡ å¿«é€Ÿè®¡ç®—</div>
                <div class="feature-badge">ğŸ’¾ æ— éœ€å­˜å‚¨</div>
                <div class="feature-badge">ğŸ”“ å®Œå…¨å¼€æº</div>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalAlgorithms">35+</div>
                <div class="stat-label">å¤„ç†ç®—æ³•</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">8</div>
                <div class="stat-label">ç®—æ³•ç±»åˆ«</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">< 5åˆ†é’Ÿ</div>
                <div class="stat-label">å¹³å‡å¤„ç†æ—¶é—´</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">100%</div>
                <div class="stat-label">äº‘ç«¯å°±ç»ª</div>
            </div>
        </div>

        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="ğŸ” æœç´¢ç®—æ³•åç§°ã€ç±»å‹æˆ–åº”ç”¨åœºæ™¯...">
        </div>

        <div id="algorithmsContent">
            <!-- åŠ¨æ€åŠ è½½å†…å®¹ -->
        </div>

        <div id="noResults" class="no-results" style="display: none;">
            æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç®—æ³•ï¼Œè¯·å°è¯•å…¶ä»–å…³é”®è¯
        </div>
    </main>

    <footer style="text-align: center; padding: 2rem; color: rgba(255, 255, 255, 0.5); margin-top: 4rem;">
        <p>SAT-DISCOVERY - æ— å­˜å‚¨ç®—æ³•å¤„ç†å¹³å°</p>
        <p style="font-size: 0.9rem; margin-top: 0.5rem;">
            åªåšè®¡ç®—ï¼Œä¸å­˜æ•°æ® Â· ä½æˆæœ¬è¿è¥ Â· MIT å¼€æºè®¸å¯
        </p>
    </footer>

    <script>
        let catalog = null;
        let searchTerm = '';

        const categoryIcons = {
            'spectral_indices': 'ğŸŒ¿',
            'sar_processing': 'ğŸ“¡',
            'dem_analysis': 'â›°ï¸',
            'change_detection': 'ğŸ”„',
            'image_processing': 'ğŸ–¼ï¸',
            'classification': 'ğŸ—‚ï¸',
            'time_series': 'ğŸ“ˆ',
            'utilities': 'ğŸ› ï¸'
        };

        // åŠ è½½ç®—æ³•ç›®å½•
        async function loadCatalog() {
            try {
                const response = await fetch('/algorithms_catalog.json');
                catalog = await response.json();
                renderCatalog();
            } catch (error) {
                console.error('Failed to load catalog:', error);
                document.getElementById('algorithmsContent').innerHTML = 
                    '<p style="color: red; text-align: center;">åŠ è½½ç®—æ³•ç›®å½•å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</p>';
            }
        }

        // æ¸²æŸ“ç›®å½•
        function renderCatalog() {
            if (!catalog) return;

            const container = document.getElementById('algorithmsContent');
            const noResults = document.getElementById('noResults');
            container.innerHTML = '';
            let totalVisible = 0;

            for (const [categoryId, categoryData] of Object.entries(catalog.categories)) {
                const filteredAlgorithms = filterAlgorithms(categoryData.algorithms);
                
                if (filteredAlgorithms.length === 0) continue;
                totalVisible += filteredAlgorithms.length;

                const section = document.createElement('div');
                section.className = 'category-section';
                section.innerHTML = `
                    <div class="category-header">
                        <div class="category-icon">${categoryIcons[categoryId] || 'ğŸ”§'}</div>
                        <div class="category-title">
                            <h2>${categoryData.name}</h2>
                            <div class="category-description">${categoryData.description}</div>
                        </div>
                        <div class="category-count">${filteredAlgorithms.length}</div>
                    </div>
                    <div class="algorithms-grid">
                        ${filteredAlgorithms.map(algo => renderAlgorithmCard(algo)).join('')}
                    </div>
                `;
                container.appendChild(section);
            }

            noResults.style.display = totalVisible === 0 ? 'block' : 'none';
        }

        // è¿‡æ»¤ç®—æ³•
        function filterAlgorithms(algorithms) {
            if (!searchTerm) return algorithms;

            const searchLower = searchTerm.toLowerCase();
            return algorithms.filter(algo => {
                return algo.name.toLowerCase().includes(searchLower) ||
                       algo.description.toLowerCase().includes(searchLower) ||
                       algo.id.toLowerCase().includes(searchLower) ||
                       (algo.formula && algo.formula.toLowerCase().includes(searchLower)) ||
                       (algo.applications && algo.applications.some(app => 
                           app.toLowerCase().includes(searchLower)));
            });
        }

        // æ¸²æŸ“ç®—æ³•å¡ç‰‡
        function renderAlgorithmCard(algo) {
            const applications = algo.applications ? algo.applications.slice(0, 3) : [];
            const dataSources = algo.dataSources ? algo.dataSources.slice(0, 3) : [];
            
            return `
                <div class="algorithm-card" onclick="showAlgorithmDetail('${algo.id}')">
                    <div class="algorithm-header">
                        <div>
                            <div class="algorithm-name">${algo.name}</div>
                            <div class="algorithm-id">${algo.id}</div>
                        </div>
                        ${algo.cloudReady ? '<div class="algorithm-badge">â˜ï¸ äº‘ç«¯</div>' : ''}
                    </div>

                    <div class="algorithm-description">
                        ${algo.description}
                    </div>

                    ${algo.formula ? `
                        <div class="algorithm-formula">
                            ğŸ“ ${algo.formula}
                        </div>
                    ` : ''}

                    <div class="algorithm-meta">
                        ${algo.processingTime ? `
                            <div class="meta-item">
                                <span class="meta-icon">â±ï¸</span>
                                <span class="meta-value">${algo.processingTime}</span>
                            </div>
                        ` : ''}
                        ${algo.inputBands ? `
                            <div class="meta-item">
                                <span class="meta-icon">ğŸ“Š</span>
                                <span class="meta-value">${algo.inputBands.join(', ')}</span>
                            </div>
                        ` : ''}
                    </div>

                    ${applications.length > 0 ? `
                        <div class="algorithm-tags">
                            ${applications.map(app => `<span class="tag">ğŸ¯ ${app}</span>`).join('')}
                        </div>
                    ` : ''}

                    ${dataSources.length > 0 ? `
                        <div class="algorithm-tags">
                            ${dataSources.map(ds => `<span class="tag">ğŸ“¡ ${ds}</span>`).join('')}
                        </div>
                    ` : ''}

                    <button class="try-button" onclick="event.stopPropagation(); tryAlgorithm('${algo.id}')">
                        ğŸš€ è¯•ç”¨æ­¤ç®—æ³•
                    </button>
                </div>
            `;
        }

        // æ˜¾ç¤ºç®—æ³•è¯¦æƒ…
        function showAlgorithmDetail(algoId) {
            alert(`ç®—æ³•è¯¦æƒ…ç•Œé¢å¼€å‘ä¸­\nç®—æ³•ID: ${algoId}\n\nå³å°†æ”¯æŒï¼š\n- å‚æ•°é…ç½®\n- æ•°æ®æºé€‰æ‹©\n- åœ¨çº¿å¤„ç†\n- ç»“æœä¸‹è½½`);
        }

        // è¯•ç”¨ç®—æ³•
        function tryAlgorithm(algoId) {
            alert(`å³å°†è·³è½¬åˆ°ç®—æ³•å¤„ç†ç•Œé¢\nç®—æ³•: ${algoId}\n\nåŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼`);
        }

        // æœç´¢åŠŸèƒ½
        document.getElementById('searchInput').addEventListener('input', (e) => {
            searchTerm = e.target.value;
            renderCatalog();
        });

        // åˆå§‹åŒ–
        loadCatalog();
    </script>
</body>
</html>
